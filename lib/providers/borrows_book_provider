import 'package:flutter/material.dart';
import '../models/borrows_book_model.dart';
import '../services/borrows_book_service.dart';

class BorrowsProvider extends ChangeNotifier {
  List<BorrowModel> borrows = [];
  final BorrowsService _service = BorrowsService();

  Future<void> fetchUserBorrow(String userId) async {
    borrows = await _service.getUserBorrow(userId);
    notifyListeners();
  }

  Future<bool> borrowBook(BorrowModel data) async {
    bool ok = await _service.createBorrow(data);
    if (ok) fetchUserBorrow(data.userId);
    return ok;
  }
}
